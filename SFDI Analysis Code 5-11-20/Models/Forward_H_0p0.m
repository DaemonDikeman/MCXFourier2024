function [y1] = Forward_H_0p0(x1)
%FORWARD_H_0P0 neural network simulation function.
%
% Generated by Neural Network Toolbox function genFunction, 09-Apr-2020 00:49:33.
% 
% [y1] = Forward_H_0p0(x1) takes these arguments:
%   x = 2xQ matrix, input #1
% and returns:
%   y = 1xQ matrix, output #1
% where Q is the number of samples.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [0;0.200000002980232];
x1_step1.gain = [4;0.294117647187726];
x1_step1.ymin = -1;

% Layer 1
b1 = [3.9862009035322678585;3.0456477490950901732;1.8080965222080749299;0.11789798764736042491;0.48510420010070215424;1.548056165348401958;1.5391839078024074361;-5.0821581924953136422;-3.4207642327692711071;4.7729712659630418869];
IW1_1 = [-1.5900375683193046505 4.2478609538714113825;-2.4420614010619319245 3.4710615844825660758;-1.9045107599028501255 3.1870873665432588595;-2.0245142834799665366 2.5198289512423075465;1.3287246751655863441 -0.80125391881803220695;2.7246178131407705614 0.59664134293583959145;3.0335458129879890876 0.7117557899586729464;-4.958315751653060488 -0.027283088092871891212;-0.64089638749690192032 -3.5685429477146177746;-0.0042210929935277106961 4.2035904627290472391];

% Layer 2
b2 = [1.6628780672547307518;-1.4830255126360942786;0.36784639059989110432;-0.20399214644083807357;0.056500185141481369666;0.54978139506609957632;0.10401957813799914132;0.7513159389569454838;1.4077847631502755643;-1.6443462953106331437];
LW2_1 = [-0.51236601241038115528 -0.53562927044327401926 -0.48003376205960229806 0.079029784382354903438 1.2255549979185837994 -0.18869985692725016468 0.082844481191133564901 -0.089552832277321747778 -0.79534296353705236093 0.78844065265379337237;0.62919765145770645276 -0.28987347595557999558 0.32499644296619295547 -0.12472114285901779451 -0.81318882841807271777 0.89146479678105472466 -0.67495624034608869835 0.096824939806814350196 -0.23297033901335018058 0.46743308239472330934;-0.76854813119852882775 0.78973424723838936412 0.24307619623384141283 0.24571269087190297786 -0.94122015937262759611 -0.49206268602772668119 0.38334847811165928544 0.92239189791231424032 -0.215363255447319768 -0.472324598335945256;-0.12614044902054744046 -0.2886716784027672511 0.49397312368111767622 0.25213458694480800348 0.83434284410729808723 -0.13051384032519319778 0.19626958267717847795 -0.056345917733009134865 -0.22105165566263673682 0.43051330414743843589;-0.1584931450448025525 0.62964327404529452092 -0.30930385757695488813 0.29205420489892452984 -0.18092829409310229316 0.81887658255303064081 0.048395542146841726006 1.4207721168752782681 -0.32642879920282885653 0.29402123544507829944;0.21898176412549205661 -0.3546491170907777879 0.94905464502087233392 0.76992808619274710757 0.51341060795798321159 -0.12636556507042859265 -0.41565150630768266105 0.76285806794511201723 0.77510292646584921794 -0.35749054813620317894;0.42327934822699836426 -0.012680697925380665647 0.69925088752914521528 -0.36060729246324402242 0.15212795149327421051 -0.91354647902877872401 0.033166036614855176623 -2.2264719588067354294 0.64269548310781277056 -0.73684177011571649896;0.32482450991922406924 -0.10323103616638529267 0.41721071893475886183 0.51276943154649179402 0.52043919681127470689 -0.59994034702167420292 0.46764009469289069543 1.0250971428523136808 0.48596140810909277397 1.4067996507203273104;0.702642182191492215 -0.41312619037671433064 -0.4363970815048871521 -0.85554046739836708824 0.38034814987857040736 -0.58223307725876549679 0.79661129386965912058 -5.2453048735789664647 -0.3873147163440872065 -0.014932658257580395944;-0.20460289844136037019 -0.13837973612480908292 0.6808450312176855812 -0.17323033578242175157 -0.34480925297831738208 -0.80275821206798247953 -1.3004250068905733873 2.9782355515496461429 -0.43255015660488160822 -0.69749404870929776479];

% Layer 3
b3 = [1.4504058373329209441;1.284795990092602036;0.79160213297826487189;-0.35225148314083054579;0.033651596790042245799;-0.12615959424355674412;-0.56670360506911332532;-1.0682576367292053732;1.4094952467503008009;-1.5676568167923516928];
LW3_2 = [-1.1839024866945389025 0.34347501014075321191 0.29850851622602242452 -0.10972879560784748465 -1.1549813533303356916 -0.8634144424012132335 0.66755378169227974627 -0.41468711279871162123 1.7684559146513800787 -0.7087464889776380339;-0.23969139990076504532 0.63734618605187531859 -0.71342378593009170284 0.35954891798887878007 0.70043102775376353542 0.74752260203152454121 0.46205365473939324916 0.087796242834944970834 -0.32478889705602848048 0.039352944441425362354;-0.40992567903129145668 0.36997509546368056998 -0.99336271907498974176 -0.075062272599310642107 -0.13888009519119348667 0.51949402127137178642 0.93467318254511166931 -0.89530255565413208174 1.8020299404046014047 0.8416995401869050708;0.30017610037758873931 -0.62007296354332042121 -0.25543019352039902925 -0.25217330774108681624 -0.40217340163959297561 -0.22071230759790544385 -0.56183364969439497649 -0.49838795928848556027 0.32251456877394885092 -0.046787096636629089963;-0.72901269969388748926 -0.9596472787091278045 0.50700527702004893893 0.43439775077365139211 -1.1834163801636914393 -0.14582403624819442745 1.4068888138307469315 0.31081145989433928145 0.61396800233543702419 -0.91155033895723058812;1.685464574026011908 0.59793894824580118286 -1.1277244158049661849 0.37413438036731444525 -0.23602372618637243451 0.21350178457590601733 -0.58665027830245963791 -1.1690977934735931054 2.0055054012334161406 -0.39889131448984094241;-0.48086401985221283173 -0.87326167151994260607 0.014250308896326223038 -0.97871688005180002001 0.43481188095763995127 0.41386086579809316932 -0.15241418738576920089 -0.52515199631269848801 0.59197112934988982413 1.5586932030564297769;-0.59482919834424208272 -0.40821710826664353577 0.75895913518363755657 0.61923284023884062055 -0.47962850813534058103 -0.48466714464440535659 -0.67739101115617361693 -0.43649760333926579392 0.53853065546712974854 -0.18223244798555229829;0.18372057253638154894 -0.46143423647783293751 -0.1915973850443239701 -0.00063898564148240236202 -0.82322586764817029525 0.25119602340094893123 0.072591984573818227333 -0.50009572201099428135 -0.34264090693148313571 -0.55417538892290063579;-0.15177422316785621481 0.75149475351061700845 0.027183852335616043305 0.78741402598439191873 0.66916895583587698848 0.36287024083335484015 1.3646940677232788364 -0.17484846795424438537 0.20353672950197368441 -0.57510772734761250735];

% Layer 4
b4 = 0.52550168668712160525;
LW4_3 = [-0.88492728496946493344 -0.032378876286369727422 -1.213615880399689706 -1.1431105496324798221 1.3976322459462637848 -2.4271148460174316597 -1.2520276853986522791 -0.032486262913117985862 0.79734831528456895366 -0.65923392841987571433];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = 2.04349749084764;
y1_step1.xoffset = 0.0212858058512211;

% ===== SIMULATION ========

% Dimensions
Q = size(x1,2); % samples

% Input 1
xp1 = mapminmax_apply(x1,x1_step1);

% Layer 1
a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*xp1);

% Layer 2
a2 = tansig_apply(repmat(b2,1,Q) + LW2_1*a1);

% Layer 3
a3 = tansig_apply(repmat(b3,1,Q) + LW3_2*a2);

% Layer 4
a4 = repmat(b4,1,Q) + LW4_3*a3;

% Output 1
y1 = mapminmax_reverse(a4,y1_step1);
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
  y = bsxfun(@minus,x,settings.xoffset);
  y = bsxfun(@times,y,settings.gain);
  y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
  x = bsxfun(@minus,y,settings.ymin);
  x = bsxfun(@rdivide,x,settings.gain);
  x = bsxfun(@plus,x,settings.xoffset);
end
